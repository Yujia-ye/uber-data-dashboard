<html>
<head>
	<title>Detail Admin - Chart Showcase</title>

	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
        .styled-table {
    border-collapse: collapse;
    margin: 25px 0;
    font-size: 0.9em;
    font-family: sans-serif;
    min-width: 400px;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
}
        .styled-table thead tr {
    background-color: #009879;
    color: #ffffff;
    text-align: left;
}
        .styled-table th,
.styled-table td {
    padding: 12px 15px;
}
        .styled-table tbody tr {
    border-bottom: 1px solid #dddddd;
}

.styled-table tbody tr:nth-of-type(even) {
    background-color: #f3f3f3;
}

.styled-table tbody tr:last-of-type {
    border-bottom: 2px solid #009879;
}
        .styled-table tbody tr.active-row {
    font-weight: bold;
    color: #009879;
}
    </style>

    <!-- bootstrap -->
    <link href="{{url_for('static', filename='bootstrap/bootstrap.css')}}" rel="stylesheet" />
    <link href="{{url_for('static', filename='bootstrap/bootstrap-responsive.css')}}" rel="stylesheet" />
    <link href="{{url_for('static', filename='bootstrap/bootstrap-overrides.css')}}" type="text/css" rel="stylesheet" />

    <!-- global styles -->
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='layout.css')}}" />
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='elements.css')}}" />
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='icons.css')}}" />

    <!-- libraries -->
    <link href="{{url_for('static', filename='lib/jquery-ui-1.10.2.custom.css')}}" rel="stylesheet" type="text/css" />
    <link href="{{url_for('static', filename='lib/font-awesome.css')}}" type="text/css" rel="stylesheet" />
    <link href="{{url_for('static', filename='lib/morris.css')}}" type="text/css" rel="stylesheet" />

    <!-- this page specific styles -->
    <link rel="stylesheet" href="{{url_for('static', filename='compiled/chart-showcase.css')}}" type="text/css" media="screen" />

    <!-- open sans font -->
    <link href='http://fonts.useso.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css' />

    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /></head>
<body>



    <!-- sidebar -->
    <div id="sidebar-nav">
        <ul id="dashboard-menu">
            <li>
                <a href="http://127.0.0.1:5000/">
                    <i class="icon-home"></i>
                    <span>Listing</span>
                </a>
            </li>

            <li>
                <a href="http://127.0.0.1:5000/user">
                    <i class="icon-edit"></i>
                    <span>User</span>

                </a>

            </li>


        </ul>
    </div>
    <!-- end sidebar -->


	<!-- main container -->
    <div class="content">


        <div class="container-fluid">
            <div id="pad-wrapper">


                <!-- jQuery flot chart -->
                <div>
                    <h4 class="title">
                        New Host Statistics <small>New Host in Each Year</small>

                    </h4>
                    <div class="span12">
                        <div id="host-chart" style="height: 250px;"></div>
                    </div>

                </div></div></div>
    <div class="container-fluid">
                <div id="pad-wrapper">

                <!-- morris bar & donut charts -->
                <div class="row-fluid section">
                    <h4 class="title">
                        Host Analytics
                    </h4>
                    <div class="span6 chart">
                        <h5>Total Listing Count</h5>
                        <div id="hero-donut" style="height: 250px;"></div>
                    </div>
                    <div class="span5 chart">
                        <h5>Superhosts</h5>
                        <div id="hero-bar" style="height: 250px;"></div>
                    </div>
                </div></div></div>

        <div class="container-fluid">
                <div id="pad-wrapper">

                <!-- morris bar & donut charts -->
                <div class="row-fluid section">
                    <h4 class="title">
                        Location Analytics
                    </h4>
                    <div class="span12 chart">
                         <h5 class="title">Host Location </h5>
                        <div id="location-chart" style="height: 250px;"></div>
                    </div>

                </div></div></div>
                <!-- jQuery knobs -->
        <div class="container-fluid">
                <div id="pad-wrapper">

                <!-- morris bar & donut charts -->
                <div class="row-fluid section">
                    <h4 class="title">
                        Top Users Chart
                    </h4>
                    <div class="span6 chart">
                    <h5>Top 10 Hosts With Most Listings</h5>
                    <table class="styled-table">
                        <thead>
                            <tr>
                                <th>rank</th>
                                <th>Host name</th>
                                <th>location</th>
                                <th>Total Listings Count</th>
                                <th>Response Rate</th>
                            </tr>
                        </thead>
                         {% for item in info %}
                        <tbody>
                            {% if item.rank <= 3  %}
                            <tr class="active-row">
                             {% else %}
                            <tr>
                            {% endif %}
                                <td>{{ item.rank }}</td>
                                <td><a href="{{ item.url }}">{{ item.name }}</a></td>
                                <td>{{ item.location }}</td>
                                <td>{{ item.total_listings_count }}</td>
                                <td>{{ item.response_rate }}</td>
                            </tr>

                            <!-- and so on... -->
                        </tbody>
                        {% endfor %}
                    </table></div>

                    <div class="span5 chart">
                    <h5>Top 10 Guests With Most Reviews</h5>
                    <table class="styled-table">
                        <thead>
                            <tr>
                                <th>rank</th>
                                <th>Guest ID</th>
                                <th>Guest name</th>
                                <th>Reviews Count</th>

                            </tr>
                        </thead>
                         {% for item in info2 %}
                        <tbody>

                            <tr>
                                <td>{{ item.rank }}</td>
                                <td>{{ item.id }}</td>
                                <td>{{ item.guest_name }}</td>
                                <td>{{ item.count }}</td>

                            </tr>

                            <!-- and so on... -->
                        </tbody>
                        {% endfor %}
                    </table></div>


            </div>
        </div>
    </div>





    <!-- end main container -->


	<!-- scripts for this page -->
    <script src="{{url_for('static', filename='js/jquery-latest.js')}}"></script>
    <script src="{{url_for('static', filename='js/bootstrap.min.js')}}"></script>
    <script src="{{url_for('static', filename='js/jquery-ui-1.10.2.custom.min.js')}}"></script>
    <!-- knob -->
    <script src="{{url_for('static', filename='js/jquery.knob.js')}}"></script>
    <!-- flot charts -->
    <script src="{{url_for('static', filename='js/jquery.flot.js')}}"></script>
    <script src="{{url_for('static', filename='js/jquery.flot.stack.js')}}"></script>
    <script src="{{url_for('static', filename='js/jquery.flot.resize.js')}}"></script>
    <!-- morrisjs -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
    <script src="{{url_for('static', filename='js/morris.min.js')}}"></script>
    <!-- call all plugins -->
    <script src="{{url_for('static', filename='js/theme.js')}}"></script>

    <!-- build the charts -->
    <script type="text/javascript">

        // Morris Bar Chart
        Morris.Bar({
            element: 'hero-bar',
            data: [
                {type: 'Superhosts', hosts: 3454},
                {type: 'Not superhosts', hosts: 286}
            ],
            xkey: 'type',
            ykeys: ['hosts'],
            labels: ['hosts'],
            barRatio: 0.4,
            xLabelMargin: 10,
            hideHover: 'auto',
            barColors: ["#ba3864"]
        });


        // Morris Donut Chart
        Morris.Donut({
            element: 'hero-donut',
            data: [
                {label: '1 listings', value: 1577},
                {label: '2 Listings', value: 706},
                 {label: '3 Listings', value: 364},
                 {label: '4 Listings', value: 257},
                 {label: '5 Listings', value: 173},
                 {label: '6 Listings', value: 123},
                 {label: '7 Listings', value: 76},
                 {label: '8 Listings', value: 85}
            ],
            colors: ["#add8e6", "#76bdee", "#c4dafe","#969dd9"],
            formatter: function (y) { return y + " Hosts" }
        });

        var data = [
              { y: '2010', a: 19, b: 2},
              { y: '2011', a: 41,  b: 8},
              { y: '2012', a: 60,  b: 7},
              { y: '2013', a: 161,  b: 15},
              { y: '2014', a: 303,  b: 65},
              { y: '2015', a: 608,  b: 50},
              { y: '2016', a: 592, b: 44},
              { y: '2017', a: 493, b: 35},
              { y: '2018', a: 518, b: 28},
              { y: '2019', a: 506, b: 32},
              { y: '2020', a: 224, b: 11},
            { y: '2021', a: 67, b: 9},
            { y: '2022', a: 148, b: 3}
            ],
            config = {
              data: data,
              xkey: 'y',
              ykeys: ['a', 'b'],
              labels: ['New hosts', 'Super Hosts'],
              fillOpacity: 0.6,
              hideHover: 'auto',
              behaveLikeLine: true,
              resize: true,
              pointFillColors:['#ffffff'],
              pointStrokeColors: ['black'],
              lineColors:["#a7b5c5", "#30a0eb"]
          };
        config.element = 'host-chart';
        Morris.Bar(config);



         // Morris Area Chart
        var data = [
                      { y: 'Bangkok, Thailand', a: 2016, b: 3576},
                      { y: 'Thailand', a: 148,  b: 1287},
                      { y: 'Krung Thep Maha Nakhon, Thailand', a: 41,  b: 1481},
                      { y: 'China', a: 34,  b: 1668},
                      { y: 'Singapore', a: 31,  b: 1847},
                      { y: 'Nonthaburi, Thailand', a: 27,  b: 2602},
                      { y: 'Samut Prakan, Thailand', a: 16, b: 2096},
                      { y: 'New York, NY', a: 211, b: 1852},
                      { y: 'Hong Kong', a: 14, b: 1675}

                    ], config = {
                      data: data,
                      xkey: 'y',
                      ykeys: ['a'],
                      labels: ['Number of Hosts'],
                      fillOpacity: 0.6,
                      hideHover: 'auto',
                      behaveLikeLine: true,
                      resize: true,
                      pointFillColors:['#ffffff'],
                      pointStrokeColors: ['black'],
                      lineColors:['red']
                  };

                config.element = 'location-chart';
                Morris.Bar(config);





    </script>
<script>
    function month(){
        var trips = [[1, 2331], [2, 8374], [3, 8491], [4, 8856],[5, 8588],[6, 7945],[7, 8743],[8, 7942],[9, 8399],[10, 8134]];
        var pass = [[1, 1866.61], [2, 1856.70], [3, 1874.43], [4, 1868.51],[5, 1978.59],[6, 1963.44],[7, 1968.85],[8, 1977.94],[9, 1968.34],[10, 1958.99]];
        var plot = $.plot($("#statsChart"),
            [ { data: trips, label: "Available Units"},
             { data: pass, label: "Average Prices" }], {
                series: {
                    lines: { show: true,
                            lineWidth: 1,
                            fill: true,
                            fillColor: { colors: [ { opacity: 0.05 }, { opacity: 0.09 } ] }
                         },
                    points: { show: true,
                             lineWidth: 2,
                             radius: 3
                         },
                    shadowSize: 0,
                    stack: true
                },
                grid: { hoverable: true,
                       clickable: true,
                       tickColor: "#f9f9f9",
                       borderWidth: 0
                    },
                legend: {
                        // show: false
                        labelBoxBorderColor: "#fff"
                    },
                colors: ["#a7b5c5", "#30a0eb"],
                xaxis: {
                    ticks: [[1, "2022-09"], [2, "2022-10"], [3, "2022-11"], [4,"2022-12"], [5,"2023-01"], [6,"2023-02"],
                           [7,"2023-03"],[8,"2023-04"],[9,"2023-05"],[10,"2023-06"]],                                   
                    font: {
                        size: 12,
                        family: "Open Sans, Arial",
                        variant: "small-caps",
                        color: "#9da3a9"
                    }
                },
                yaxis: {
                    ticks:0,
                    tickDecimals: 0,
                    font: {size:12, color: "#9da3a9"}
                }
             });

        var previousPoint = null;
        $("#statsChart").bind("plothover", function (event, pos, item) {
            if (item) {
                if (previousPoint != item.dataIndex) {
                    previousPoint = item.dataIndex;

                    $("#tooltip").remove();
                    var x = item.datapoint[0].toFixed(0),
                        y = item.datapoint[1].toFixed(0);

                    var month = item.series.xaxis.ticks[item.dataIndex].label;

                    showTooltip(item.pageX, item.pageY,
                                item.series.label + " of " + month + ": " + y);
                }
            }
            else {
                $("#tooltip").remove();
                previousPoint = null;
            }
        });

    }
    function dow(){
         var price = [[1, 19210], [2, 19200], [3, 19220], [4, 19170],[5,19110],[6, 19720],[7, 19780]];

        var plot2 = $.plot($("#statsChart"),
            [ { data: price, label: "Average Price"}], {
                series: {
                    lines: { show: true,
                            lineWidth: 1,
                            fill: true,
                            fillColor: { colors: [ { opacity: 0.05 }, { opacity: 0.09 } ] }
                         },
                    points: { show: true,
                             lineWidth: 2,
                             radius: 3
                         },
                    shadowSize: 0,
                    stack: true
                },
                grid: { hoverable: true,
                       clickable: true,
                       tickColor: "#f9f9f9",
                       borderWidth: 0
                    },
                legend: {
                        // show: false
                        labelBoxBorderColor: "#fff"
                    },
                colors: ["#a7b5c5"],
                xaxis: {
                    ticks: [[1, "Mon"], [2, "Tue"], [3, "Wed"], [4,"Thu"], [5,"Fri"], [6,"Sat"],
                           [7,"Sun"]],
                    font: {
                        size: 12,
                        family: "Open Sans, Arial",
                        variant: "small-caps",
                        color: "#9da3a9"
                    }
                },
                yaxis: {
                    ticks:0,
                    tickDecimals: 0,
                    font: {size:12, color: "#9da3a9"}
                }
             });

        function showTooltip(x, y, contents) {
            $('<div id="tooltip">' + contents + '</div>').css( {
                position: 'absolute',
                display: 'none',
                top: y - 30,
                left: x - 50,
                color: "#fff",
                padding: '2px 5px',
                'border-radius': '6px',
                'background-color': '#000',
                opacity: 0.80
            }).appendTo("body").fadeIn(200);
        }
    }
</script>
</body>
</html>